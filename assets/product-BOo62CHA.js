import{g as r,s as a,l as i,a as c}from"./utils-BGDm4dpa.js";import{P as n}from"./ProductData-41W_5H-H.js";class s{constructor(t,e){this.productId=t,this.product={},this.dataSource=e}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){let t=r("so-cart")||[];const e=t.findIndex(o=>o.Id===this.product.Id);e>-1?(t[e].quantity||(t[e].quantity=1),t[e].quantity+=1):(this.product.quantity=1,t.push(this.product)),a("so-cart",t),alert(`${this.product.Name} added to cart!`);const d=document.getElementById("cart-icon");d&&(d.classList.remove("bump"),requestAnimationFrame(()=>{d.offsetWidth,d.classList.add("bump")}))}renderProductDetails(){document.querySelector("title").textContent=`Sleep Outside | ${this.product.Name}`,document.getElementById("brand").textContent=this.product.Brand.Name,document.getElementById("name").textContent=this.product.NameWithoutBrand,document.getElementById("price").textContent=`$${this.product.FinalPrice}`,document.getElementById("color").textContent=this.product.Colors[0].ColorName,document.getElementById("description").innerHTML=this.product.DescriptionHtmlSimple;const t=document.getElementById("image");t.setAttribute("src",this.product.Images.PrimaryLarge),t.setAttribute("alt",this.product.Name),document.getElementById("addToCart").dataset.id=this.product.Id}}i();const u=c("product"),m=new n,l=new s(u,m);l.init();
